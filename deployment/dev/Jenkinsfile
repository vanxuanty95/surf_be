node {
  stage 'checkout'
  git url: 'https://github.com/vanxuanty95/surf_be.git'

  stage 'build'
  sh 'docker run -i --rm -v $PWD:/go/src/surf_be/ -w /go/src/surf_be golang go build -mod vendor -v -o surf_be.bin'

  stage 'deploy'
  sh './deploy.sh'
}